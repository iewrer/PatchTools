patchdir  = "quilt/patches":
sourcedir = "quilt":

PATCH: "resetctrl/0002-capemgr-Implement-cape-priorities.patch"
   DIFF: "diff --git a/drivers/misc/cape/beaglebone/capemgr.c b/drivers/misc/cape/beaglebone/capemgr.c"
      HUNK: "@@ -43,6 +43,7 @@"
      HUNK: "@@ -109,6 +110,9 @@ struct bone_cape_slot {"
      HUNK: "@@ -154,6 +158,9 @@ struct bone_capemgr_info {"
      HUNK: "@@ -162,6 +169,7 @@ static int bone_slot_fill_override(struct bone_cape_slot *slot,"
      HUNK: "@@ -1014,7 +1022,7 @@ static ssize_t slots_store(struct device *dev, struct device_attribute *attr,"
         INFO:  "change" line not found at 1017: "		ret = bone_capemgr_remove_slot_no_lock(slot);"
      HUNK: "@@ -1100,6 +1108,9 @@ found:"
         FIND:  "add"    line found at 1119: "	if (ret != 0)"
         FIND:  "add"    line found at 1123: "	if (ret != 0)"
         FIND:  "add"    line found at 1843: "		bone_capemgr_remove_slot(slot);"
      HUNK: "@@ -1307,6 +1318,7 @@ err_fail:"
      HUNK: "@@ -1327,7 +1339,7 @@ static int bone_capemgr_unload(struct bone_cape_slot *slot)"
         INFO:  "change" line not found at 1330: "static int bone_capemgr_remove_slot_no_lock(struct bone_cape_slot *slot)"
      HUNK: "@@ -1336,11 +1348,13 @@ static int bone_capemgr_remove_slot(struct bone_cape_slot *slot)"
         ERROR: "delete" line not found at 1339: "	if (slot->loaded && slot->ovinfo) {"
         ERROR: "add"    line found at 1340: "		ret = bone_capemgr_unload(slot);"
         WARN:  "merge"  line not found at 1340: "	}"
         WARN:  "merge"  line not found at 1341: ""
         WARN:  "merge"  line not found at 1342: "	/* if probed OK, remove the sysfs nodes */"
         FIND:  "add"    line found at 1339: "		/* unload just in case */"
         FIND:  "add"    line found at 1341: "		if (ret != 0) {"
         FIND:  "add"    line found at 1484: "		if (ret != 0) {"
         FIND:  "add"    line found at 1527: "		if (ret != 0) {"
         FIND:  "add"    line found at 1535: "		if (ret != 0) {"
         FIND:  "add"    line found at 1552: "		if (ret != 0) {"
         FIND:  "add"    line found at 1642: "		if (ret != 0) {"
         FIND:  "add"    line found at 1676: "		if (ret != 0) {"
         FIND:  "add"    line found at 1342: "			dev_err(dev, "Unable to unload slot #%d\n", slot->slotno);"
         FIND:  "merge"  line found at 1346: "	/* if probed OK, remove the sysfs nodes */"
      HUNK: "@@ -1355,6 +1369,18 @@ static int bone_capemgr_remove_slot(struct bone_cape_slot *slot)"
         FIND:  "add"    line found at 1330: "static int bone_capemgr_remove_slot(struct bone_cape_slot *slot)"
         FIND:  "add"    line found at 485: "	struct bone_capemgr_info *info = slot->info;"
         FIND:  "add"    line found at 793: "	struct bone_capemgr_info *info = slot->info;"
         FIND:  "add"    line found at 863: "	struct bone_capemgr_info *info = slot->info;"
         FIND:  "add"    line found at 1143: "	struct bone_capemgr_info *info = slot->info;"
         FIND:  "add"    line found at 1332: "	struct bone_capemgr_info *info = slot->info;"
         FIND:  "add"    line found at 969: "	mutex_lock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1008: "	mutex_lock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1561: "	mutex_lock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1794: "	mutex_lock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1841: "	mutex_lock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 987: "	mutex_unlock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1014: "	mutex_unlock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1018: "	mutex_unlock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1563: "	mutex_unlock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1819: "	mutex_unlock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1844: "	mutex_unlock(&info->slots_list_mutex);"
      HUNK: "@@ -1362,6 +1388,7 @@ static int bone_slot_fill_override(struct bone_cape_slot *slot,"
      HUNK: "@@ -1413,6 +1440,10 @@ static int bone_slot_fill_override(struct bone_cape_slot *slot,"
      HUNK: "@@ -1579,11 +1610,72 @@ err_no_mem:"
         ERROR: "add"    line found at 1585: ""
         ERROR: "add"    line found at 1585: ""
         ERROR: "add"    line found at 1585: ""
         ERROR: "add"    line found at 1585: ""
         ERROR: "add"    line found at 1585: ""
         ERROR: "add"    line found at 1585: ""
         ERROR: "add"    line found at 1585: ""
         INFO:  "change" line not found at 1586: "	/* not loaded? remove */"
         FIND:  "add"    line found at 485: "	struct bone_capemgr_info *info = slot->info;"
         FIND:  "add"    line found at 793: "	struct bone_capemgr_info *info = slot->info;"
         FIND:  "add"    line found at 863: "	struct bone_capemgr_info *info = slot->info;"
         FIND:  "add"    line found at 1143: "	struct bone_capemgr_info *info = slot->info;"
         FIND:  "add"    line found at 1332: "	struct bone_capemgr_info *info = slot->info;"
         FIND:  "add"    line found at 794: "	struct device *dev = &info->pdev->dev;"
         FIND:  "add"    line found at 864: "	struct device *dev = &info->pdev->dev;"
         FIND:  "add"    line found at 1115: "	struct device *dev = &info->pdev->dev;"
         FIND:  "add"    line found at 1135: "	struct device *dev = &info->pdev->dev;"
         FIND:  "add"    line found at 1144: "	struct device *dev = &info->pdev->dev;"
         FIND:  "add"    line found at 1333: "	struct device *dev = &info->pdev->dev;"
         FIND:  "add"    line found at 1465: "	struct device *dev = &info->pdev->dev;"
         FIND:  "add"    line found at 969: "	mutex_lock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1008: "	mutex_lock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1561: "	mutex_lock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1794: "	mutex_lock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1841: "	mutex_lock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 971: "	list_for_each_entry(slot, &info->slot_list, node) {"
         FIND:  "add"    line found at 1009: "	list_for_each_entry(slot, &info->slot_list, node) {"
         FIND:  "add"    line found at 1795: "	list_for_each_entry(slot, &info->slot_list, node) {"
         FIND:  "add"    line found at 987: "	mutex_unlock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1014: "	mutex_unlock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1018: "	mutex_unlock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1563: "	mutex_unlock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1819: "	mutex_unlock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1844: "	mutex_unlock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 485: "	struct bone_capemgr_info *info = slot->info;"
         FIND:  "add"    line found at 793: "	struct bone_capemgr_info *info = slot->info;"
         FIND:  "add"    line found at 863: "	struct bone_capemgr_info *info = slot->info;"
         FIND:  "add"    line found at 1143: "	struct bone_capemgr_info *info = slot->info;"
         FIND:  "add"    line found at 1332: "	struct bone_capemgr_info *info = slot->info;"
         FIND:  "add"    line found at 794: "	struct device *dev = &info->pdev->dev;"
         FIND:  "add"    line found at 864: "	struct device *dev = &info->pdev->dev;"
         FIND:  "add"    line found at 1115: "	struct device *dev = &info->pdev->dev;"
         FIND:  "add"    line found at 1135: "	struct device *dev = &info->pdev->dev;"
         FIND:  "add"    line found at 1144: "	struct device *dev = &info->pdev->dev;"
         FIND:  "add"    line found at 1333: "	struct device *dev = &info->pdev->dev;"
         FIND:  "add"    line found at 1465: "	struct device *dev = &info->pdev->dev;"
         FIND:  "add"    line found at 1101: "	ret = bone_capemgr_load(slot);"
         FIND:  "add"    line found at 1119: "	if (ret != 0)"
         FIND:  "add"    line found at 1123: "	if (ret != 0)"
         FIND:  "add"    line found at 1843: "		bone_capemgr_remove_slot(slot);"
      HUNK: "@@ -1623,6 +1715,8 @@ bone_capemgr_probe(struct platform_device *pdev)"
      HUNK: "@@ -1803,21 +1897,26 @@ bone_capemgr_probe(struct platform_device *pdev)"
         INFO:  "change" line not found at 1806: "		if (!slot->probe_failed && !slot->loaded)"
         WARN:  "merge"  line not found at 1808: "	}"
         WARN:  "merge"  line not found at 1809: ""
         ERROR: "delete" line not found at 1810: "	/* now start the loader thread(s) (all at once) */"
         WARN:  "merge"  line not found at 1811: ""
         ERROR: "add"    line found at 1812: "			dev_warn(&pdev->dev, "slot #%d: Failed to ""
         WARN:  "merge"  line not found at 1812: ""
         WARN:  "merge"  line not found at 1813: "	dev_info(&pdev->dev, "initialized OK.\n");"
         WARN:  "merge"  line not found at 1814: ""
         FIND:  "add"    line found at 971: "	list_for_each_entry(slot, &info->slot_list, node) {"
         FIND:  "add"    line found at 1009: "	list_for_each_entry(slot, &info->slot_list, node) {"
         FIND:  "add"    line found at 1795: "	list_for_each_entry(slot, &info->slot_list, node) {"
         FIND:  "add"    line found at 1808: "		slot->loader_thread = kthread_run(bone_capemgr_loader,"
         FIND:  "add"    line found at 501: "				slot->slotno);"
         FIND:  "add"    line found at 516: "				slot->slotno);"
         FIND:  "add"    line found at 523: "				slot->slotno);"
         FIND:  "add"    line found at 802: "				slot->slotno);"
         FIND:  "add"    line found at 813: "				slot->slotno);"
         FIND:  "add"    line found at 826: "				slot->slotno);"
         FIND:  "add"    line found at 844: "				slot->slotno);"
         FIND:  "add"    line found at 1249: "				slot->slotno);"
         FIND:  "add"    line found at 1261: "				slot->slotno);"
         FIND:  "add"    line found at 1270: "				slot->slotno);"
         FIND:  "add"    line found at 1281: "				slot->slotno);"
         FIND:  "add"    line found at 1810: "				slot->slotno);"
         FIND:  "add"    line found at 1811: "		if (IS_ERR(slot->loader_thread)) {"
         FIND:  "add"    line found at 1813: "					"start loader\n", slot->slotno);"
         FIND:  "add"    line found at 1814: "			slot->loader_thread = NULL;"
         FIND:  "add"    line found at 987: "	mutex_unlock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1014: "	mutex_unlock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1018: "	mutex_unlock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1563: "	mutex_unlock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1819: "	mutex_unlock(&info->slots_list_mutex);"
         FIND:  "add"    line found at 1844: "	mutex_unlock(&info->slots_list_mutex);"
         FIND:  "merge"  line found at 1822: "	dev_info(&pdev->dev, "initialized OK.\n");"
      HUNK: "@@ -1840,7 +1939,7 @@ static int bone_capemgr_remove(struct platform_device *pdev)"
         INFO:  "change" line not found at 1843: "		bone_capemgr_remove_slot_no_lock(slot);"
   INFO:  13 patch errors

Summary:
   0 passed, 0 skipped, 1 tested
